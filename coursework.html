<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>EduPath</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            line-height: 1.6;
            color: #e0e0e0;
            background-color: #121212;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: linear-gradient(135deg, #2d2d6f, #4a2b7d);
            color: white;
            padding: 20px 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            color: white;
            text-align: center;
            position: absolute;
            left: 15%;
            transform: translateX(-50%);
        }

        .nav-links {
            display: flex;
            gap: 50px;
            margin-left: 1350px;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        .hero {
            padding: 100px 0;
            text-align: center;
            background: linear-gradient(135deg, #2d2d6f, #4a2b7d);
            color: white;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 20px;
            margin-bottom: 30px;
        }

        .cta-button {
            display: inline-block;
            padding: 15px 30px;
            background-color: #4a2b7d;
            color: #ffffff;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .cta-button:hover {
            background-color: #5c3697;
        }

        .universities {
            padding: 80px 0;
            background-color: #1a1a1a;
        }

        .section-title {
            text-align: center;
            margin-bottom: 20px;
            color: #ffffff;
        }

        .section-description {
            text-align: center;
            max-width: 600px;
            margin: 0 auto 40px;
            color: #999;
        }

        .search-section {
            text-align: center;
            margin-bottom: 40px;
        }

        .search-section input {
            padding: 10px;
            width: 300px;
            border-radius: 20px;
            border: none;
            background-color: #333;
            color: white;
        }

        .search-section button {
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            background-color: #4a2b7d;
            color: white;
            margin-left: 10px;
            cursor: pointer;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            color: #e0e0e0;
        }

        th,
        td {
            border: 1px solid #444;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #2d2d2d;
        }

        tr:nth-child(even) {
            background-color: #1f1f1f;
        }

        .not-found {
            text-align: center;
            color: #ccc;
            margin-top: 20px;
        }

        .contact-form {
        max-width: 600px;
        margin: 40px auto 0;
        text-align: left;
        }

        .cta-button {
        display: block;
        margin-left: auto;
        margin-right: 0;  
        padding: 15px 30px;
        background-color: #4a2b7d;
        color: #ffffff;
        border-radius: 30px;
        font-weight: 600;
        transition: background-color 0.3s;
        }

        .cta-button:hover {
            background-color: #5c3697;
        }

        .form-group {
            margin-bottom: 20px;
        }

        input,
        textarea {
            width: 100%;
            padding: 10px;
            background-color: #333;
            border: 1px solid #444;
            border-radius: 5px;
            color: #e0e0e0;
        }

        textarea {
            resize: vertical;
        }
    </style>
</head>
<body>
<header>
    <div class="logo">EduPath</div>
    <nav class="nav-links">
        <a href="#universities">Університети</a>
        <a href="#contact">Контакти</a>
    </nav>
</header>

    <section class="hero">
        <div class="container">
            <h1>Знайдіть найкращий університет та спеціальність</h1>
            <p>Пошук за критеріями, конкурсами та вартістю навчання</p>
        </div>
    </section>

    <section class="universities" id="universities">
        <div class="container">
            <h2 class="section-title">Університети та спеціальності</h2>
            <p class="section-description">Скористайтесь пошуком або знайдіть спеціальність із найменшим конкурсом</p>
            <div class="search-section">
                <input
                    type="text"
                    id="searchInput"
                    placeholder="Введіть назву спеціальності..."
                    onkeydown="handleKey(this, event)"
                />
                <button onclick="searchSpeciality()">Пошук</button>
                <button onclick="findMinCompetitionSpeciality()">Мін. конкурс</button>
            </div>
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th>Університет</th>
                            <th>Місто</th>
                            <th>Спеціальність</th>
                            <th>Денна</th>
                            <th>Вечірня</th>
                            <th>Заочна</th>
                            <th>Ціна (грн)</th>
                        </tr>
                    </thead>
                    <tbody id="universityBody"></tbody>
                </table>
                <div class="not-found" id="notFound" style="display: none;">Спеціальність не знайдено.</div>
            </div>
        </div>
    </section>

    <section
        class="contact"
        id="contact"
        style="padding: 60px 0; background-color: #242424; color: white; text-align: center"
    >
        <div class="container">
            <h2 class="section-title">Зв’яжіться з нами</h2>
            <p class="section-description">Є питання? Ми тут, щоб допомогти!</p>
            <form class="contact-form" onsubmit="handleSubmit(event)">
                <div class="form-group">
                    <input id="name" type="text" placeholder="Ваше ім’я" required />
                </div>
                <div class="form-group">
                    <input id="email" type="email" placeholder="Ваш email" required />
                </div>
                <div class="form-group">
                    <textarea id="message" rows="5" placeholder="Ваше повідомлення" required></textarea>
                </div>
                <button type="submit" class="cta-button">Надіслати повідомлення</button>
            </form>
            <div id="confirmation" style="display: none; margin-top: 15px; color: #4caf50">
                Повідомлення надіслано!
            </div>
            <div id="savedMessages" style="margin-top: 40px; color: white"></div>
        </div>
    </section>

    <footer style="background-color: #0a0a0a; color: white; text-align: center; padding: 30px 0">
        <div class="container">
            <p>&copy; 2025 EduPath. Всі права захищені.</p>
        </div>
    </footer>

    <script>
const universities = [
    {
        name: "Київський національний університет",
        address: "Київ",
        specialities: [
            {
                name: "Комп'ютерні науки",
                competition: { full_time: 120, part_time: 80, distance: 40 },
                contract_price: 32000,
            },
            {
                name: "Економіка",
                competition: { full_time: 100, part_time: 60, distance: 30 },
                contract_price: 29000,
            },
        ],
    },
    {
        name: "Львівська політехніка",
        address: "Львів",
        specialities: [
            {
                name: "Комп'ютерні науки",
                competition: { full_time: 110, part_time: 70, distance: 35 },
                contract_price: 30000,
            },
            {
                name: "Архітектура",
                competition: { full_time: 90, part_time: 50, distance: 25 },
                contract_price: 28000,
            },
        ],
    },
    {
        name: "Харківський національний університет",
        address: "Харків",
        specialities: [
            {
                name: "Медицина",
                competition: { full_time: 130, part_time: 0, distance: 0 },
                contract_price: 50000,
            },
            {
                name: "Право",
                competition: { full_time: 95, part_time: 65, distance: 35 },
                contract_price: 27000,
            },
        ],
    },
    {
        name: "Одеський національний політехнічний університет",
        address: "Одеса",
        specialities: [
            {
                name: "Кібербезпека",
                competition: { full_time: 85, part_time: 45, distance: 20 },
                contract_price: 31000,
            },
            {
                name: "Механіка",
                competition: { full_time: 75, part_time: 55, distance: 30 },
                contract_price: 26000,
            },
        ],
    },
    {
        name: "Дніпровський національний університет імені Олеся Гончара",
        address: "Дніпро",
        specialities: [
            {
                name: "Філологія",
                competition: { full_time: 70, part_time: 40, distance: 20 },
                contract_price: 24000,
            },
            {
                name: "Журналістика",
                competition: { full_time: 65, part_time: 35, distance: 15 },
                contract_price: 23000,
            },
        ],
    },
    {
        name: "Чернівецький національний університет імені Юрія Федьковича",
        address: "Чернівці",
        specialities: [
            {
                name: "Історія",
                competition: { full_time: 60, part_time: 30, distance: 20 },
                contract_price: 22000,
            },
            {
                name: "Соціологія",
                competition: { full_time: 55, part_time: 25, distance: 15 },
                contract_price: 21000,
            },
        ],
    },
];

        function displayUniversities(data) {
            const tbody = document.getElementById("universityBody");
            const notFound = document.getElementById("notFound");
            tbody.innerHTML = "";

            if (data.length === 0) {
                notFound.style.display = "block";
                return;
            } else {
                notFound.style.display = "none";
            }

            data.forEach((university) => {
                university.specialities.forEach((spec) => {
                    const tr = document.createElement("tr");

                    tr.innerHTML = `
                        <td>${university.name}</td>
                        <td>${university.address}</td>
                        <td>${spec.name}</td>
                        <td>${spec.competition.full_time || "-"}</td>
                        <td>${spec.competition.part_time || "-"}</td>
                        <td>${spec.competition.distance || "-"}</td>
                        <td>${spec.contract_price.toLocaleString("uk-UA")} грн</td>
                    `;

                    tbody.appendChild(tr);
                });
            });
        }

        function searchSpeciality() {
            const input = document.getElementById("searchInput").value.trim().toLowerCase();
            if (!input) {
                displayUniversities(universities);
                return;
            }

            const filtered = universities
                .map((uni) => {
                    const filteredSpecs = uni.specialities.filter((spec) =>
                        spec.name.toLowerCase().includes(input)
                    );
                    return filteredSpecs.length > 0
                        ? { ...uni, specialities: filteredSpecs }
                        : null;
                })
                .filter(Boolean);

            displayUniversities(filtered);
        }

        function findMinCompetitionSpeciality() {
            let minCompetition = Infinity;
            let bestUni = null;
            let bestSpec = null;

            universities.forEach((uni) => {
                uni.specialities.forEach((spec) => {
                    const competitions = Object.values(spec.competition).filter((c) => c > 0);
                    if (competitions.length === 0) return;
                    const minCompSpec = Math.min(...competitions);
                    if (minCompSpec < minCompetition) {
                        minCompetition = minCompSpec;
                        bestUni = uni;
                        bestSpec = spec;
                    }
                });
            });

            if (bestUni && bestSpec) {
                displayUniversities([
                    { ...bestUni, specialities: [bestSpec] }
                ]);
            }
        }

        function handleKey(input, event) {
            if (event.key === "Enter") {
                event.preventDefault();
                searchSpeciality();
            }
        }

        displayUniversities(universities);

        // --- Контактна форма і localStorage ---
        function handleSubmit(event) {
            event.preventDefault();

            const name = document.getElementById("name").value.trim();
            const email = document.getElementById("email").value.trim();
            const message = document.getElementById("message").value.trim();

            if (!name || !email || !message) {
                alert("Будь ласка, заповніть усі поля форми.");
                return false;
            }

            const submittedMessage = {
                name,
                email,
                message,
                date: new Date().toLocaleString()
            };

            const savedMessages = JSON.parse(localStorage.getItem("contactMessages") || "[]");
            savedMessages.push(submittedMessage);
            localStorage.setItem("contactMessages", JSON.stringify(savedMessages));

            console.log("Збережене повідомлення:", submittedMessage);

            document.getElementById("confirmation").style.display = "block";
            showMessages();
            event.target.reset();
            return false;
        }

        function showMessages() {
            const container = document.getElementById("savedMessages");
            const saved = JSON.parse(localStorage.getItem("contactMessages") || "[]");
            if (!container) return;

            if (saved.length === 0) {
                container.innerHTML = "<p>Немає збережених повідомлень.</p>";
                return;
            }

            let html = "<h3>Збережені повідомлення:</h3><ul style='list-style: none; padding: 0;'>";
            saved.forEach((m, index) => {
                html += `<li style='margin-bottom: 10px; padding: 10px; border: 1px solid #555; border-radius: 5px;'>
                    <strong>Ім’я:</strong> ${m.name}<br>
                    <strong>Email:</strong> ${m.email}<br>
                    <strong>Повідомлення:</strong> ${m.message}<br>
                    <em>${m.date}</em>
                </li>`;
            });
            html += "</ul>";
            html += "<button onclick='clearMessages()' style='margin-top: 10px; margin-right: 10px; padding: 8px 16px; background-color: #800; color: white; border: none; border-radius: 5px; cursor: pointer;'>Очистити повідомлення</button>";
            html += "<button onclick='downloadMessages()' style='margin-top: 10px; padding: 8px 16px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;'>Завантажити повідомлення</button>";
            container.innerHTML = html;
        }

        function clearMessages() {
            if (confirm("Ви дійсно хочете очистити всі повідомлення?")) {
                localStorage.removeItem("contactMessages");
                showMessages();
            }
        }

        function downloadMessages() {
            const saved = JSON.parse(localStorage.getItem("contactMessages") || "[]");
            if (saved.length === 0) {
                alert("Немає повідомлень для завантаження.");
                return;
            }

            const blob = new Blob([JSON.stringify(saved, null, 2)], { type: "application/json" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "contactMessages.json";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        document.addEventListener("DOMContentLoaded", showMessages);
    </script>
</body>
</html>


